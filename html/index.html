<!DOCTYPE html>
<meta charset="utf-8">
<style type="text/css">
html {
  width: 100%;
  height: 100%;
  background-image: url(https://connector73.net/img/banner.jpg.pagespeed.ce.lHEX5NVPe2.jpg);
  background-attachment: fixed;
  background-size: cover;
}
body {
  padding: 2em;
}
form {
  display: inline-block;
  background: rgba(255, 255, 255, .75);
  padding: 1.5em;
  border: rgba(127, 127, 127, .75);
  border-radius: .5em;
  box-shadow: .1em .1em .3em rgba(0,0,0,0.2);
}
</style>
<form method="post" id="makecall">
  <input type="tel" name="to" required placeholder="to phone"/>
  <input type="submit" value="make call">
</form>
<script>
var eventSource = new EventSource("/");

eventSource.onopen = function(e) {
  console.log("connected");
};

eventSource.onerror = function(e) {
  if (this.readyState == EventSource.CONNECTING) {
    console.log("reconnecting...");
  } else {
    console.log("connection error: " + this.readyState);
  }
};

eventSource.onmessage = function(e) {
  console.log(e.data);
};

eventSource.addEventListener('DeliveredEvent', function(e) {
  var data = JSON.parse(e.data);
  console.log(data);
  alert( 'Call from ' + data.callingDevice + ' to ' + data.calledDevice);
});
</script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.form/4.2.2/jquery.form.min.js" integrity="sha384-FzT3vTVGXqf7wRfy8k4BiyzvbNfeYjK+frTVqZeNDFl8woCbF0CYG6g2fMEFFo/i" crossorigin="anonymous"></script>
<script>
  $(function() {
    $('#makecall').ajaxForm({
      dataType: "json",
      success: function(data) {
        console.log(data)
        alert("Make call sended");
      }});
  });
</script>